
`define Quartus_Module "ON"

`ifndef Quartus_Module 
	`include "Divide.sv"

	`include "SensorGet.sv"
	`include "BaseCutLine.sv"
	`include "DownDim.sv"
	`include "FuzzyMapping.sv"

	`include "FristPool.sv"
	`include "ConvolutionUnit.sv"
	`include "PoolUnit.sv"
	`include "ReLuUnit.sv"
	
	$display("Is Include Module\n");
`endif

/*
 *  Out Error Bus
 * |----------------------------------------------------------------
 * | [0] | Sensor Get Out Range Error
 * | --- + ---------------------------------------------------------
 * | [1] | Sensor Get Overflow Error
 * | --- + ---------------------------------------------------------
 * | [2] | 
 * |  ~  | Fuzzy Mapping Error (For MF0 to MFn)
 * | [k] |
 * |----------------------------------------------------------------
 */

module HardFuzzyCtl(clk,clearError,ctlSave,dev1,dev2,dev3,OutBus,OutErrorBus,NeuralBus,NeuralError);
	parameter FixValue   = 0;
	
	//==========================================================
	// Prot Define
	//==========================================================
	 input  bit      clk;
	 input  bit      clearError;
	 input  [1:0]    ctlSave;
	 input  [10-1:0] dev1;
	 input  [10-1:0] dev2;
	 input  [10-1:0] dev3;
	 output [2:0]    OutBus;
	 output [4:0]    OutErrorBus;
	 output [4*10:0] NeuralBus;
	 output [4:0]    NeuralError;
	 	 
	
	//==========================================================
	// SensorGet Wire
	//==========================================================
	wire      [1:0] SensorGetMF1Tester;
	wire      [1:0] SensorGetMF2Tester;
	wire      [1:0] SensorGetMF3Tester;
	wire      [10-1:0] MF1FixValue;
	wire      [10-1:0] MF2FixValue;
	wire      [10-1:0] MF3FixValue;
	
	//==========================================================
	// FuzzyMapping Wire
	//==========================================================
	reg      [0:1+3+2+10-1] MF1FN1Mapping;
	reg      [0:1+3+2+10-1] MF1FN2Mapping;
	reg      [0:1+3+2+10-1] MF1FN3Mapping;
	reg      [0:1+3+2+10-1] MF2FN1Mapping;
	reg      [0:1+3+2+10-1] MF2FN2Mapping;
	reg      [0:1+3+2+10-1] MF2FN3Mapping;
	reg      [0:1+3+2+10-1] MF3FN1Mapping;
	reg      [0:1+3+2+10-1] MF3FN2Mapping;
	reg      [0:1+3+2+10-1] MF3FN3Mapping;
	
	//==========================================================
	// DownDim Wire
	//==========================================================
	wire      [0:1+3+2+10-1] MF2MF1_MF3FN1Mapping;
	wire      [0:1+3+2+10-1] MF2MF1_MF3FN2Mapping;
	wire      [0:1+3+2+10-1] MF2MF1_MF3FN3Mapping;
	wire      [0:1+3+2+10-1] MF2MF2_MF3FN1Mapping;
	wire      [0:1+3+2+10-1] MF2MF2_MF3FN2Mapping;
	wire      [0:1+3+2+10-1] MF2MF2_MF3FN3Mapping;
	wire      [0:1+3+2+10-1] MF2MF3_MF3FN1Mapping;
	wire      [0:1+3+2+10-1] MF2MF3_MF3FN2Mapping;
	wire      [0:1+3+2+10-1] MF2MF3_MF3FN3Mapping;
	
	//==========================================================
	// NeuralNetwork Regs
	//==========================================================
	reg       [10-1:0] TmpMF1FN1MappingData;
	reg       [10-1:0] TmpMF1FN2MappingData;
	reg       [10-1:0] TmpMF1FN3MappingData;
	
	reg       [10-1:0] CtlMF1FN1MappingData;
	reg       [10-1:0] CtlMF1FN2MappingData;
	reg       [10-1:0] CtlMF1FN3MappingData;
	
	reg       [10-1:0] TmpMF2MF1MF3FN1MappingData;
	reg       [10-1:0] TmpMF2MF1MF3FN2MappingData;
	reg       [10-1:0] TmpMF2MF1MF3FN3MappingData;
	reg       [10-1:0] TmpMF2MF2MF3FN1MappingData;
	reg       [10-1:0] TmpMF2MF2MF3FN2MappingData;
	reg       [10-1:0] TmpMF2MF2MF3FN3MappingData;
	reg       [10-1:0] TmpMF2MF3MF3FN1MappingData;
	reg       [10-1:0] TmpMF2MF3MF3FN2MappingData;
	reg       [10-1:0] TmpMF2MF3MF3FN3MappingData;
	
	reg       [10-1:0] CtlMF2MF1MF3FN1MappingData;
	reg       [10-1:0] CtlMF2MF1MF3FN2MappingData;
	reg       [10-1:0] CtlMF2MF1MF3FN3MappingData;
	reg       [10-1:0] CtlMF2MF2MF3FN1MappingData;
	reg       [10-1:0] CtlMF2MF2MF3FN2MappingData;
	reg       [10-1:0] CtlMF2MF2MF3FN3MappingData;
	reg       [10-1:0] CtlMF2MF3MF3FN1MappingData;
	reg       [10-1:0] CtlMF2MF3MF3FN2MappingData;
	reg       [10-1:0] CtlMF2MF3MF3FN3MappingData;
	
	reg       [8-1:0] subclk;
	reg       [0:5*10*10-1] TmpNN;
	reg       [0:5*10*10-1] TmpNN2;
	reg       [0:5*10*10-1] SaveNN;
	
	wire      [0:5*10*10-1] OutNN;
	
	SensorGet #(.SensorGet_LimitBit(10),.BaseUpBound(30),.BaseDownBound(0),.ShiftVlaue(0)) SensorGetLayerForMF1(.SensorGetValue(dev1),.FixedValue(MF1FixValue),.ErrorReturn(SensorGetMF1Tester));
	SensorGet #(.SensorGet_LimitBit(10),.BaseUpBound(30),.BaseDownBound(0),.ShiftVlaue(0)) SensorGetLayerForMF2(.SensorGetValue(dev2),.FixedValue(MF2FixValue),.ErrorReturn(SensorGetMF2Tester));
	SensorGet #(.SensorGet_LimitBit(10),.BaseUpBound(30),.BaseDownBound(0),.ShiftVlaue(0)) SensorGetLayerForMF3(.SensorGetValue(dev3),.FixedValue(MF3FixValue),.ErrorReturn(SensorGetMF3Tester));
	
	//MF1
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(0),.Node1(1),.Node2(2),.Node3(5)) FuzzyMappingLayerForMF1FN1(.InFixed(MF1FixValue),.IsHit(MF1FN1Mapping[0]),.LoaclFlag(MF1FN1Mapping[1:3]),.LongBitData(MF1FN1Mapping[5:10+5-1]),.ErrorReturn(MF1FN1Mapping[4]));
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(3),.Node1(7),.Node2(8),.Node3(10)) FuzzyMappingLayerForMF1FN2(.InFixed(MF1FixValue),.IsHit(MF1FN2Mapping[0]),.LoaclFlag(MF1FN2Mapping[1:3]),.LongBitData(MF1FN2Mapping[5:10+5-1]),.ErrorReturn(MF1FN2Mapping[4]));
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(9),.Node1(13),.Node2(15),.Node3(16)) FuzzyMappingLayerForMF1FN3(.InFixed(MF1FixValue),.IsHit(MF1FN3Mapping[0]),.LoaclFlag(MF1FN3Mapping[1:3]),.LongBitData(MF1FN3Mapping[5:10+5-1]),.ErrorReturn(MF1FN3Mapping[4]));
	
	//MF2
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(0),.Node1(4),.Node2(6),.Node3(9)) FuzzyMappingLayerForMF2FN1(.InFixed(MF2FixValue),.IsHit(MF2FN1Mapping[0]),.LoaclFlag(MF2FN1Mapping[1:3]),.LongBitData(MF2FN1Mapping[5:10+5-1]),.ErrorReturn(MF2FN1Mapping[4]));
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(7),.Node1(10),.Node2(12),.Node3(15)) FuzzyMappingLayerForMF2FN2(.InFixed(MF2FixValue),.IsHit(MF2FN2Mapping[0]),.LoaclFlag(MF2FN2Mapping[1:3]),.LongBitData(MF2FN2Mapping[5:10+5-1]),.ErrorReturn(MF2FN2Mapping[4]));
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(14),.Node1(16),.Node2(17),.Node3(20)) FuzzyMappingLayerForMF2FN3(.InFixed(MF2FixValue),.IsHit(MF2FN3Mapping[0]),.LoaclFlag(MF2FN3Mapping[1:3]),.LongBitData(MF2FN3Mapping[5:10+5-1]),.ErrorReturn(MF2FN3Mapping[4]));
	
	//MF3
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(0),.Node1(1),.Node2(2),.Node3(7)) FuzzyMappingLayerForMF3FN1(.InFixed(MF3FixValue),.IsHit(MF3FN1Mapping[0]),.LoaclFlag(MF3FN1Mapping[1:3]),.LongBitData(MF3FN1Mapping[5:10+5-1]),.ErrorReturn(MF3FN1Mapping[4]));
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(6),.Node1(11),.Node2(20),.Node3(25)) FuzzyMappingLayerForMF3FN2(.InFixed(MF3FixValue),.IsHit(MF3FN2Mapping[0]),.LoaclFlag(MF3FN2Mapping[1:3]),.LongBitData(MF3FN2Mapping[5:10+5-1]),.ErrorReturn(MF3FN2Mapping[4]));
	FuzzyMapping #(.InData_limit(4),.LongBit_limit(10),.Node0(21),.Node1(27),.Node2(29),.Node3(35)) FuzzyMappingLayerForMF3FN3(.InFixed(MF3FixValue),.IsHit(MF3FN3Mapping[0]),.LoaclFlag(MF3FN3Mapping[1:3]),.LongBitData(MF3FN3Mapping[5:10+5-1]),.ErrorReturn(MF3FN3Mapping[4]));
	
	//DownDim
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node1DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN1Mapping[1:3]),.Dim2Flag(MF3FN1Mapping[1:3]),.Dim1(MF2FN1Mapping[5:10+5-1]),.Dim2(MF3FN1Mapping[5:10+5-1]),.OutDownFlag(MF2MF1_MF3FN1Mapping[1:3]),.OutDownDim(MF2MF1_MF3FN1Mapping[5:10+5-1]));
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node2DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN1Mapping[1:3]),.Dim2Flag(MF3FN2Mapping[1:3]),.Dim1(MF2FN1Mapping[5:10+5-1]),.Dim2(MF3FN2Mapping[5:10+5-1]),.OutDownFlag(MF2MF1_MF3FN2Mapping[1:3]),.OutDownDim(MF2MF1_MF3FN2Mapping[5:10+5-1]));
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node3DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN1Mapping[1:3]),.Dim2Flag(MF3FN3Mapping[1:3]),.Dim1(MF2FN1Mapping[5:10+5-1]),.Dim2(MF3FN3Mapping[5:10+5-1]),.OutDownFlag(MF2MF1_MF3FN3Mapping[1:3]),.OutDownDim(MF2MF1_MF3FN3Mapping[5:10+5-1]));
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node4DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN2Mapping[1:3]),.Dim2Flag(MF3FN1Mapping[1:3]),.Dim1(MF2FN2Mapping[5:10+5-1]),.Dim2(MF3FN1Mapping[5:10+5-1]),.OutDownFlag(MF2MF2_MF3FN1Mapping[1:3]),.OutDownDim(MF2MF2_MF3FN1Mapping[5:10+5-1]));
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node5DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN2Mapping[1:3]),.Dim2Flag(MF3FN2Mapping[1:3]),.Dim1(MF2FN2Mapping[5:10+5-1]),.Dim2(MF3FN2Mapping[5:10+5-1]),.OutDownFlag(MF2MF2_MF3FN2Mapping[1:3]),.OutDownDim(MF2MF2_MF3FN2Mapping[5:10+5-1]));
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node6DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN2Mapping[1:3]),.Dim2Flag(MF3FN3Mapping[1:3]),.Dim1(MF2FN2Mapping[5:10+5-1]),.Dim2(MF3FN3Mapping[5:10+5-1]),.OutDownFlag(MF2MF2_MF3FN3Mapping[1:3]),.OutDownDim(MF2MF2_MF3FN3Mapping[5:10+5-1]));
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node7DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN3Mapping[1:3]),.Dim2Flag(MF3FN1Mapping[1:3]),.Dim1(MF2FN3Mapping[5:10+5-1]),.Dim2(MF3FN1Mapping[5:10+5-1]),.OutDownFlag(MF2MF3_MF3FN1Mapping[1:3]),.OutDownDim(MF2MF3_MF3FN1Mapping[5:10+5-1]));
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node8DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN3Mapping[1:3]),.Dim2Flag(MF3FN2Mapping[1:3]),.Dim1(MF2FN3Mapping[5:10+5-1]),.Dim2(MF3FN2Mapping[5:10+5-1]),.OutDownFlag(MF2MF3_MF3FN2Mapping[1:3]),.OutDownDim(MF2MF3_MF3FN2Mapping[5:10+5-1]));
	DownDim #(.Offset(0),.InData_limit(10)) Layer1Node9DownDim(.CutLine(10'b0000011111),.Dim1Flag(MF2FN3Mapping[1:3]),.Dim2Flag(MF3FN3Mapping[1:3]),.Dim1(MF2FN3Mapping[5:10+5-1]),.Dim2(MF3FN3Mapping[5:10+5-1]),.OutDownFlag(MF2MF3_MF3FN3Mapping[1:3]),.OutDownDim(MF2MF3_MF3FN3Mapping[5:10+5-1]));
	
	//Self-Computing
	BaseCutLine #(.LongBits_limit(10)) MF1FN1BSelfCompute(.cut_line(CtlMF1FN1MappingData),.x(TmpMF1FN1MappingData),.y(MF1FN1Mapping[5:10+5-1]),.z(TmpMF1FN1MappingData));
	BaseCutLine #(.LongBits_limit(10)) MF1FN2BSelfCompute(.cut_line(CtlMF1FN2MappingData),.x(TmpMF1FN2MappingData),.y(MF1FN2Mapping[5:10+5-1]),.z(TmpMF1FN2MappingData));
	BaseCutLine #(.LongBits_limit(10)) MF1FN3BSelfCompute(.cut_line(CtlMF1FN3MappingData),.x(TmpMF1FN3MappingData),.y(MF1FN3Mapping[5:10+5-1]),.z(TmpMF1FN3MappingData));
	
	//NN-AND-OR
	BaseCutLine #(.LongBits_limit(10)) MF1FN1SelfCompute(.cut_line(CtlMF1FN1MappingData),.x(TmpMF1FN1Mapping),.y(MF1FN1Mapping[5:10+5-1]),.z(TmpMF1FN1Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF1FN2SelfCompute(.cut_line(CtlMF1FN2MappingData),.x(TmpMF1FN2Mapping),.y(MF1FN2Mapping[5:10+5-1]),.z(TmpMF1FN2Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF1FN3SelfCompute(.cut_line(CtlMF1FN3MappingData),.x(TmpMF1FN3Mapping),.y(MF1FN3Mapping[5:10+5-1]),.z(TmpMF1FN3Mapping));
	
	BaseCutLine #(.LongBits_limit(10)) MF2MF1MF3FN1SelfCompute(.cut_line(CtlMF2MF1MF3FN1MappingData),.x(TmpMF2MF1MF3FN1Mapping),.y(MF2MF1_MF3FN1Mapping[5:10+5-1]),.z(TmpMF2MF1MF3FN1Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF2MF1MF3FN2SelfCompute(.cut_line(CtlMF2MF1MF3FN2MappingData),.x(TmpMF2MF1MF3FN2Mapping),.y(MF2MF1_MF3FN2Mapping[5:10+5-1]),.z(TmpMF2MF1MF3FN2Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF2MF1MF3FN3SelfCompute(.cut_line(CtlMF2MF1MF3FN3MappingData),.x(TmpMF2MF1MF3FN3Mapping),.y(MF2MF1_MF3FN3Mapping[5:10+5-1]),.z(TmpMF2MF1MF3FN3Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF2MF2MF3FN1SelfCompute(.cut_line(CtlMF2MF2MF3FN1MappingData),.x(TmpMF2MF2MF3FN1Mapping),.y(MF2MF2_MF3FN1Mapping[5:10+5-1]),.z(TmpMF2MF2MF3FN1Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF2MF2MF3FN2SelfCompute(.cut_line(CtlMF2MF2MF3FN2MappingData),.x(TmpMF2MF2MF3FN2Mapping),.y(MF2MF2_MF3FN2Mapping[5:10+5-1]),.z(TmpMF2MF2MF3FN2Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF2MF2MF3FN3SelfCompute(.cut_line(CtlMF2MF2MF3FN3MappingData),.x(TmpMF2MF2MF3FN3Mapping),.y(MF2MF2_MF3FN3Mapping[5:10+5-1]),.z(TmpMF2MF2MF3FN3Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF2MF3MF3FN1SelfCompute(.cut_line(CtlMF2MF3MF3FN1MappingData),.x(TmpMF2MF3MF3FN1Mapping),.y(MF2MF3_MF3FN1Mapping[5:10+5-1]),.z(TmpMF2MF3MF3FN1Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF2MF3MF3FN2SelfCompute(.cut_line(CtlMF2MF3MF3FN2MappingData),.x(TmpMF2MF3MF3FN2Mapping),.y(MF2MF3_MF3FN2Mapping[5:10+5-1]),.z(TmpMF2MF3MF3FN2Mapping));
	BaseCutLine #(.LongBits_limit(10)) MF2MF3MF3FN3SelfCompute(.cut_line(CtlMF2MF3MF3FN3MappingData),.x(TmpMF2MF3MF3FN3Mapping),.y(MF2MF3_MF3FN3Mapping[5:10+5-1]),.z(TmpMF2MF3MF3FN3Mapping));
	
	//Divide
	Divide          #(.subclk_limit(8))   DivideCLK(.clk(clk),.subclk(subclk));
	
	//12*12 -> 10*10 (Data -> NN)
	FristPool    #(.Row_Limit(12),.WindowsSize(3),.ComputRow(10)) FristPool(.clk(subclk[0]),.InData({TmpMF2MF1MF3FN1Mapping,TmpMF2MF1MF3FN2Mapping,TmpMF2MF1MF3FN3Mapping,TmpMF2MF2MF3FN1Mapping,TmpMF2MF2MF3FN2Mapping,TmpMF2MF2MF3FN3Mapping,TmpMF2MF3MF3FN1Mapping,TmpMF2MF3MF3FN2Mapping,TmpMF2MF3MF3FN3Mapping,24'b000000000000000000000000}),.TmpNN(TmpNN));
	
	//10*10 -> 5*5 (NN -> NN2)
	ConvolutionUnit #(.Row_Limit(10),.WindowsSize(6)) Layer1ID1(.clk(subclk[1]),
		.InMatrix(
			TmpNN
		),
		.EigenMatrix(
			36'b000000000000000000000000000000000000
		),
		.OutMatrix({
			TmpNN2[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+5-1],TmpNN2[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+5-1],TmpNN2[(10*10*0)+(10*2)+0:(10*10*0)+(10*2)+5-1],TmpNN2[(10*10*0)+(10*3)+0:(10*10*0)+(10*3)+5-1],TmpNN2[(10*10*0)+(10*4)+0:(10*10*0)+(10*4)+5-1],
			TmpNN2[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+5-1],TmpNN2[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+5-1],TmpNN2[(10*10*1)+(10*2)+0:(10*10*1)+(10*2)+5-1],TmpNN2[(10*10*1)+(10*3)+0:(10*10*1)+(10*3)+5-1],TmpNN2[(10*10*1)+(10*4)+0:(10*10*1)+(10*4)+5-1],
			TmpNN2[(10*10*2)+(10*0)+0:(10*10*2)+(10*0)+5-1],TmpNN2[(10*10*2)+(10*1)+0:(10*10*2)+(10*1)+5-1],TmpNN2[(10*10*2)+(10*2)+0:(10*10*2)+(10*2)+5-1],TmpNN2[(10*10*2)+(10*3)+0:(10*10*2)+(10*3)+5-1],TmpNN2[(10*10*2)+(10*4)+0:(10*10*2)+(10*4)+5-1],
			TmpNN2[(10*10*3)+(10*0)+0:(10*10*3)+(10*0)+5-1],TmpNN2[(10*10*3)+(10*1)+0:(10*10*3)+(10*1)+5-1],TmpNN2[(10*10*3)+(10*2)+0:(10*10*3)+(10*2)+5-1],TmpNN2[(10*10*3)+(10*3)+0:(10*10*3)+(10*3)+5-1],TmpNN2[(10*10*3)+(10*4)+0:(10*10*3)+(10*4)+5-1],
			TmpNN2[(10*10*4)+(10*0)+0:(10*10*4)+(10*0)+5-1],TmpNN2[(10*10*4)+(10*1)+0:(10*10*4)+(10*1)+5-1],TmpNN2[(10*10*4)+(10*2)+0:(10*10*4)+(10*2)+5-1],TmpNN2[(10*10*4)+(10*3)+0:(10*10*4)+(10*3)+5-1],TmpNN2[(10*10*4)+(10*4)+0:(10*10*4)+(10*4)+5-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(10),.WindowsSize(6)) Layer1ID2(.clk(subclk[1]),
		.InMatrix(
			TmpNN
		),
		.EigenMatrix(
			36'b000000000000000000000000000000000000
		),
		.OutMatrix({
			TmpNN2[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+5*2-1],TmpNN2[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+5*2-1],TmpNN2[(10*10*0)+(10*2)+5:(10*10*0)+(10*2)+5*2-1],TmpNN2[(10*10*0)+(10*3)+5:(10*10*0)+(10*3)+5*2-1],TmpNN2[(10*10*0)+(10*4)+5:(10*10*0)+(10*4)+5*2-1],
			TmpNN2[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+5*2-1],TmpNN2[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+5*2-1],TmpNN2[(10*10*1)+(10*2)+5:(10*10*1)+(10*2)+5*2-1],TmpNN2[(10*10*1)+(10*3)+5:(10*10*1)+(10*3)+5*2-1],TmpNN2[(10*10*1)+(10*4)+5:(10*10*1)+(10*4)+5*2-1],
			TmpNN2[(10*10*2)+(10*0)+5:(10*10*2)+(10*0)+5*2-1],TmpNN2[(10*10*2)+(10*1)+5:(10*10*2)+(10*1)+5*2-1],TmpNN2[(10*10*2)+(10*2)+5:(10*10*2)+(10*2)+5*2-1],TmpNN2[(10*10*2)+(10*3)+5:(10*10*2)+(10*3)+5*2-1],TmpNN2[(10*10*2)+(10*4)+5:(10*10*2)+(10*4)+5*2-1],
			TmpNN2[(10*10*3)+(10*0)+5:(10*10*3)+(10*0)+5*2-1],TmpNN2[(10*10*3)+(10*1)+5:(10*10*3)+(10*1)+5*2-1],TmpNN2[(10*10*3)+(10*2)+5:(10*10*3)+(10*2)+5*2-1],TmpNN2[(10*10*3)+(10*3)+5:(10*10*3)+(10*3)+5*2-1],TmpNN2[(10*10*3)+(10*4)+5:(10*10*3)+(10*4)+5*2-1],
			TmpNN2[(10*10*4)+(10*0)+5:(10*10*4)+(10*0)+5*2-1],TmpNN2[(10*10*4)+(10*1)+5:(10*10*4)+(10*1)+5*2-1],TmpNN2[(10*10*4)+(10*2)+5:(10*10*4)+(10*2)+5*2-1],TmpNN2[(10*10*4)+(10*3)+5:(10*10*4)+(10*3)+5*2-1],TmpNN2[(10*10*4)+(10*4)+5:(10*10*4)+(10*4)+5*2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(10),.WindowsSize(6)) Layer1ID3(.clk(subclk[1]),
		.InMatrix(
			TmpNN
		),
		.EigenMatrix(
			36'b000000000000000000000000000000000000
		),
		.OutMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*5*2)+0:(10*10*0)+(10*0)+(5*5*2)+5-1],TmpNN2[(10*10*0)+(10*1)+(5*5*2)+0:(10*10*0)+(10*1)+(5*5*2)+5-1],TmpNN2[(10*10*0)+(10*2)+(5*5*2)+0:(10*10*0)+(10*2)+(5*5*2)+5-1],TmpNN2[(10*10*0)+(10*3)+(5*5*2)+0:(10*10*0)+(10*3)+(5*5*2)+5-1],TmpNN2[(10*10*0)+(10*4)+(5*5*2)+0:(10*10*0)+(10*4)+(5*5*2)+5-1],
			TmpNN2[(10*10*1)+(10*0)+(5*5*2)+0:(10*10*1)+(10*0)+(5*5*2)+5-1],TmpNN2[(10*10*1)+(10*1)+(5*5*2)+0:(10*10*1)+(10*1)+(5*5*2)+5-1],TmpNN2[(10*10*1)+(10*2)+(5*5*2)+0:(10*10*1)+(10*2)+(5*5*2)+5-1],TmpNN2[(10*10*1)+(10*3)+(5*5*2)+0:(10*10*1)+(10*3)+(5*5*2)+5-1],TmpNN2[(10*10*1)+(10*4)+(5*5*2)+0:(10*10*1)+(10*4)+(5*5*2)+5-1],
			TmpNN2[(10*10*2)+(10*0)+(5*5*2)+0:(10*10*2)+(10*0)+(5*5*2)+5-1],TmpNN2[(10*10*2)+(10*1)+(5*5*2)+0:(10*10*2)+(10*1)+(5*5*2)+5-1],TmpNN2[(10*10*2)+(10*2)+(5*5*2)+0:(10*10*2)+(10*2)+(5*5*2)+5-1],TmpNN2[(10*10*2)+(10*3)+(5*5*2)+0:(10*10*2)+(10*3)+(5*5*2)+5-1],TmpNN2[(10*10*2)+(10*4)+(5*5*2)+0:(10*10*2)+(10*4)+(5*5*2)+5-1],
			TmpNN2[(10*10*3)+(10*0)+(5*5*2)+0:(10*10*3)+(10*0)+(5*5*2)+5-1],TmpNN2[(10*10*3)+(10*1)+(5*5*2)+0:(10*10*3)+(10*1)+(5*5*2)+5-1],TmpNN2[(10*10*3)+(10*2)+(5*5*2)+0:(10*10*3)+(10*2)+(5*5*2)+5-1],TmpNN2[(10*10*3)+(10*3)+(5*5*2)+0:(10*10*3)+(10*3)+(5*5*2)+5-1],TmpNN2[(10*10*3)+(10*4)+(5*5*2)+0:(10*10*3)+(10*4)+(5*5*2)+5-1],
			TmpNN2[(10*10*4)+(10*0)+(5*5*2)+0:(10*10*4)+(10*0)+(5*5*2)+5-1],TmpNN2[(10*10*4)+(10*1)+(5*5*2)+0:(10*10*4)+(10*1)+(5*5*2)+5-1],TmpNN2[(10*10*4)+(10*2)+(5*5*2)+0:(10*10*4)+(10*2)+(5*5*2)+5-1],TmpNN2[(10*10*4)+(10*3)+(5*5*2)+0:(10*10*4)+(10*3)+(5*5*2)+5-1],TmpNN2[(10*10*4)+(10*4)+(5*5*2)+0:(10*10*4)+(10*4)+(5*5*2)+5-1]
		})
	);

	
	ConvolutionUnit #(.Row_Limit(10),.WindowsSize(6)) Layer1ID4(.clk(subclk[1]),
		.InMatrix(
			TmpNN
		),
		.EigenMatrix(
			36'b000000000000000000000000000000000000
		),
		.OutMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*5*2)+5:(10*10*0)+(10*0)+(5*5*2)+5*2-1],TmpNN2[(10*10*0)+(10*1)+(5*5*2)+5:(10*10*0)+(10*1)+(5*5*2)+5*2-1],TmpNN2[(10*10*0)+(10*2)+(5*5*2)+5:(10*10*0)+(10*2)+(5*5*2)+5*2-1],TmpNN2[(10*10*0)+(10*3)+(5*5*2)+5:(10*10*0)+(10*3)+(5*5*2)+5*2-1],TmpNN2[(10*10*0)+(10*4)+(5*5*2)+5:(10*10*0)+(10*4)+(5*5*2)+5*2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*5*2)+5:(10*10*1)+(10*0)+(5*5*2)+5*2-1],TmpNN2[(10*10*1)+(10*1)+(5*5*2)+5:(10*10*1)+(10*1)+(5*5*2)+5*2-1],TmpNN2[(10*10*1)+(10*2)+(5*5*2)+5:(10*10*1)+(10*2)+(5*5*2)+5*2-1],TmpNN2[(10*10*1)+(10*3)+(5*5*2)+5:(10*10*1)+(10*3)+(5*5*2)+5*2-1],TmpNN2[(10*10*1)+(10*4)+(5*5*2)+5:(10*10*1)+(10*4)+(5*5*2)+5*2-1],
			TmpNN2[(10*10*2)+(10*0)+(5*5*2)+5:(10*10*2)+(10*0)+(5*5*2)+5*2-1],TmpNN2[(10*10*2)+(10*1)+(5*5*2)+5:(10*10*2)+(10*1)+(5*5*2)+5*2-1],TmpNN2[(10*10*2)+(10*2)+(5*5*2)+5:(10*10*2)+(10*2)+(5*5*2)+5*2-1],TmpNN2[(10*10*2)+(10*3)+(5*5*2)+5:(10*10*2)+(10*3)+(5*5*2)+5*2-1],TmpNN2[(10*10*2)+(10*4)+(5*5*2)+5:(10*10*2)+(10*4)+(5*5*2)+5*2-1],
			TmpNN2[(10*10*3)+(10*0)+(5*5*2)+5:(10*10*3)+(10*0)+(5*5*2)+5*2-1],TmpNN2[(10*10*3)+(10*1)+(5*5*2)+5:(10*10*3)+(10*1)+(5*5*2)+5*2-1],TmpNN2[(10*10*3)+(10*2)+(5*5*2)+5:(10*10*3)+(10*2)+(5*5*2)+5*2-1],TmpNN2[(10*10*3)+(10*3)+(5*5*2)+5:(10*10*3)+(10*3)+(5*5*2)+5*2-1],TmpNN2[(10*10*3)+(10*4)+(5*5*2)+5:(10*10*3)+(10*4)+(5*5*2)+5*2-1],
			TmpNN2[(10*10*4)+(10*0)+(5*5*2)+5:(10*10*4)+(10*0)+(5*5*2)+5*2-1],TmpNN2[(10*10*4)+(10*1)+(5*5*2)+5:(10*10*4)+(10*1)+(5*5*2)+5*2-1],TmpNN2[(10*10*4)+(10*2)+(5*5*2)+5:(10*10*4)+(10*2)+(5*5*2)+5*2-1],TmpNN2[(10*10*4)+(10*3)+(5*5*2)+5:(10*10*4)+(10*3)+(5*5*2)+5*2-1],TmpNN2[(10*10*4)+(10*4)+(5*5*2)+5:(10*10*4)+(10*4)+(5*5*2)+5*2-1]
		})
	);
	
	// (NN2 -> NN)
	ReLuUnit        #(.Row_Limit(10)) Layer2ID1(.clk(subclk[2]),.InMatrix(TmpNN2),.OutMatrix(TmpNN));

	//5*5 -> 4*4 (NN -> NN2)
	PoolUnit        #(.Row_Limit(5),.WindowsSize(2),.ComputRow(4)) Layer3ID1(.clk(subclk[3]),
		.InMatrix({
			TmpNN[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+5-1],TmpNN[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+5-1],TmpNN[(10*10*0)+(10*2)+0:(10*10*0)+(10*2)+5-1],TmpNN[(10*10*0)+(10*3)+0:(10*10*0)+(10*3)+5-1],TmpNN[(10*10*0)+(10*4)+0:(10*10*0)+(10*4)+5-1],
			TmpNN[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+5-1],TmpNN[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+5-1],TmpNN[(10*10*1)+(10*2)+0:(10*10*1)+(10*2)+5-1],TmpNN[(10*10*1)+(10*3)+0:(10*10*1)+(10*3)+5-1],TmpNN[(10*10*1)+(10*4)+0:(10*10*1)+(10*4)+5-1],
			TmpNN[(10*10*2)+(10*0)+0:(10*10*2)+(10*0)+5-1],TmpNN[(10*10*2)+(10*1)+0:(10*10*2)+(10*1)+5-1],TmpNN[(10*10*2)+(10*2)+0:(10*10*2)+(10*2)+5-1],TmpNN[(10*10*2)+(10*3)+0:(10*10*2)+(10*3)+5-1],TmpNN[(10*10*2)+(10*4)+0:(10*10*2)+(10*4)+5-1],
			TmpNN[(10*10*3)+(10*0)+0:(10*10*3)+(10*0)+5-1],TmpNN[(10*10*3)+(10*1)+0:(10*10*3)+(10*1)+5-1],TmpNN[(10*10*3)+(10*2)+0:(10*10*3)+(10*2)+5-1],TmpNN[(10*10*3)+(10*3)+0:(10*10*3)+(10*3)+5-1],TmpNN[(10*10*3)+(10*4)+0:(10*10*3)+(10*4)+5-1],
			TmpNN[(10*10*4)+(10*0)+0:(10*10*4)+(10*0)+5-1],TmpNN[(10*10*4)+(10*1)+0:(10*10*4)+(10*1)+5-1],TmpNN[(10*10*4)+(10*2)+0:(10*10*4)+(10*2)+5-1],TmpNN[(10*10*4)+(10*3)+0:(10*10*4)+(10*3)+5-1],TmpNN[(10*10*4)+(10*4)+0:(10*10*4)+(10*4)+5-1]
		}),.OutMatrix({
			TmpNN2[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+5-1],TmpNN2[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+5-1],TmpNN2[(10*10*0)+(10*2)+0:(10*10*0)+(10*2)+5-1],TmpNN2[(10*10*0)+(10*3)+0:(10*10*0)+(10*3)+5-1],TmpNN2[(10*10*0)+(10*4)+0:(10*10*0)+(10*4)+5-1],
			TmpNN2[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+5-1],TmpNN2[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+5-1],TmpNN2[(10*10*1)+(10*2)+0:(10*10*1)+(10*2)+5-1],TmpNN2[(10*10*1)+(10*3)+0:(10*10*1)+(10*3)+5-1],TmpNN2[(10*10*1)+(10*4)+0:(10*10*1)+(10*4)+5-1],
			TmpNN2[(10*10*2)+(10*0)+0:(10*10*2)+(10*0)+5-1],TmpNN2[(10*10*2)+(10*1)+0:(10*10*2)+(10*1)+5-1],TmpNN2[(10*10*2)+(10*2)+0:(10*10*2)+(10*2)+5-1],TmpNN2[(10*10*2)+(10*3)+0:(10*10*2)+(10*3)+5-1],TmpNN2[(10*10*2)+(10*4)+0:(10*10*2)+(10*4)+5-1],
			TmpNN2[(10*10*3)+(10*0)+0:(10*10*3)+(10*0)+5-1],TmpNN2[(10*10*3)+(10*1)+0:(10*10*3)+(10*1)+5-1],TmpNN2[(10*10*3)+(10*2)+0:(10*10*3)+(10*2)+5-1],TmpNN2[(10*10*3)+(10*3)+0:(10*10*3)+(10*3)+5-1],TmpNN2[(10*10*3)+(10*4)+0:(10*10*3)+(10*4)+5-1],
			TmpNN2[(10*10*4)+(10*0)+0:(10*10*4)+(10*0)+5-1],TmpNN2[(10*10*4)+(10*1)+0:(10*10*4)+(10*1)+5-1],TmpNN2[(10*10*4)+(10*2)+0:(10*10*4)+(10*2)+5-1],TmpNN2[(10*10*4)+(10*3)+0:(10*10*4)+(10*3)+5-1],TmpNN2[(10*10*4)+(10*4)+0:(10*10*4)+(10*4)+5-1]
		})
	);
	
	PoolUnit        #(.Row_Limit(5),.WindowsSize(2),.ComputRow(4)) Layer3ID2(.clk(subclk[3]),
		.InMatrix({
			TmpNN[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+(5*2)-1],TmpNN[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+(5*2)-1],TmpNN[(10*10*0)+(10*2)+5:(10*10*0)+(10*2)+(5*2)-1],TmpNN[(10*10*0)+(10*3)+5:(10*10*0)+(10*3)+(5*2)-1],TmpNN[(10*10*0)+(10*4)+5:(10*10*0)+(10*4)+(5*2)-1],
			TmpNN[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+(5*2)-1],TmpNN[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+(5*2)-1],TmpNN[(10*10*1)+(10*2)+5:(10*10*1)+(10*2)+(5*2)-1],TmpNN[(10*10*1)+(10*3)+5:(10*10*1)+(10*3)+(5*2)-1],TmpNN[(10*10*1)+(10*4)+5:(10*10*1)+(10*4)+(5*2)-1],
			TmpNN[(10*10*2)+(10*0)+5:(10*10*2)+(10*0)+(5*2)-1],TmpNN[(10*10*2)+(10*1)+5:(10*10*2)+(10*1)+(5*2)-1],TmpNN[(10*10*2)+(10*2)+5:(10*10*2)+(10*2)+(5*2)-1],TmpNN[(10*10*2)+(10*3)+5:(10*10*2)+(10*3)+(5*2)-1],TmpNN[(10*10*2)+(10*4)+5:(10*10*2)+(10*4)+(5*2)-1],
			TmpNN[(10*10*3)+(10*0)+5:(10*10*3)+(10*0)+(5*2)-1],TmpNN[(10*10*3)+(10*1)+5:(10*10*3)+(10*1)+(5*2)-1],TmpNN[(10*10*3)+(10*2)+5:(10*10*3)+(10*2)+(5*2)-1],TmpNN[(10*10*3)+(10*3)+5:(10*10*3)+(10*3)+(5*2)-1],TmpNN[(10*10*3)+(10*4)+5:(10*10*3)+(10*4)+(5*2)-1],
			TmpNN[(10*10*4)+(10*0)+5:(10*10*4)+(10*0)+(5*2)-1],TmpNN[(10*10*4)+(10*1)+5:(10*10*4)+(10*1)+(5*2)-1],TmpNN[(10*10*4)+(10*2)+5:(10*10*4)+(10*2)+(5*2)-1],TmpNN[(10*10*4)+(10*3)+5:(10*10*4)+(10*3)+(5*2)-1],TmpNN[(10*10*4)+(10*4)+5:(10*10*4)+(10*4)+(5*2)-1]
		}),.OutMatrix({
			TmpNN2[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+(5*2)-1],TmpNN2[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+(5*2)-1],TmpNN2[(10*10*0)+(10*2)+5:(10*10*0)+(10*2)+(5*2)-1],TmpNN2[(10*10*0)+(10*3)+5:(10*10*0)+(10*3)+(5*2)-1],TmpNN2[(10*10*0)+(10*4)+5:(10*10*0)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+(5*2)-1],TmpNN2[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+(5*2)-1],TmpNN2[(10*10*1)+(10*2)+5:(10*10*1)+(10*2)+(5*2)-1],TmpNN2[(10*10*1)+(10*3)+5:(10*10*1)+(10*3)+(5*2)-1],TmpNN2[(10*10*1)+(10*4)+5:(10*10*1)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*2)+(10*0)+5:(10*10*2)+(10*0)+(5*2)-1],TmpNN2[(10*10*2)+(10*1)+5:(10*10*2)+(10*1)+(5*2)-1],TmpNN2[(10*10*2)+(10*2)+5:(10*10*2)+(10*2)+(5*2)-1],TmpNN2[(10*10*2)+(10*3)+5:(10*10*2)+(10*3)+(5*2)-1],TmpNN2[(10*10*2)+(10*4)+5:(10*10*2)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*3)+(10*0)+5:(10*10*3)+(10*0)+(5*2)-1],TmpNN2[(10*10*3)+(10*1)+5:(10*10*3)+(10*1)+(5*2)-1],TmpNN2[(10*10*3)+(10*2)+5:(10*10*3)+(10*2)+(5*2)-1],TmpNN2[(10*10*3)+(10*3)+5:(10*10*3)+(10*3)+(5*2)-1],TmpNN2[(10*10*3)+(10*4)+5:(10*10*3)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*4)+(10*0)+5:(10*10*4)+(10*0)+(5*2)-1],TmpNN2[(10*10*4)+(10*1)+5:(10*10*4)+(10*1)+(5*2)-1],TmpNN2[(10*10*4)+(10*2)+5:(10*10*4)+(10*2)+(5*2)-1],TmpNN2[(10*10*4)+(10*3)+5:(10*10*4)+(10*3)+(5*2)-1],TmpNN2[(10*10*4)+(10*4)+5:(10*10*4)+(10*4)+(5*2)-1]
		})
	);
	
	PoolUnit        #(.Row_Limit(5),.WindowsSize(2),.ComputRow(4)) Layer3ID3(.clk(subclk[3]),
		.InMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+5-1],TmpNN[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+5-1],TmpNN[(10*10*0)+(10*2)+(5*10)+0:(10*10*0)+(10*2)+(5*10)+5-1],TmpNN[(10*10*0)+(10*3)+(5*10)+0:(10*10*0)+(10*3)+(5*10)+5-1],TmpNN[(10*10*0)+(10*4)+(5*10)+0:(10*10*0)+(10*4)+(5*10)+5-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+5-1],TmpNN[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+5-1],TmpNN[(10*10*1)+(10*2)+(5*10)+0:(10*10*1)+(10*2)+(5*10)+5-1],TmpNN[(10*10*1)+(10*3)+(5*10)+0:(10*10*1)+(10*3)+(5*10)+5-1],TmpNN[(10*10*1)+(10*4)+(5*10)+0:(10*10*1)+(10*4)+(5*10)+5-1],
			TmpNN[(10*10*2)+(10*0)+(5*10)+0:(10*10*2)+(10*0)+(5*10)+5-1],TmpNN[(10*10*2)+(10*1)+(5*10)+0:(10*10*2)+(10*1)+(5*10)+5-1],TmpNN[(10*10*2)+(10*2)+(5*10)+0:(10*10*2)+(10*2)+(5*10)+5-1],TmpNN[(10*10*2)+(10*3)+(5*10)+0:(10*10*2)+(10*3)+(5*10)+5-1],TmpNN[(10*10*2)+(10*4)+(5*10)+0:(10*10*2)+(10*4)+(5*10)+5-1],
			TmpNN[(10*10*3)+(10*0)+(5*10)+0:(10*10*3)+(10*0)+(5*10)+5-1],TmpNN[(10*10*3)+(10*1)+(5*10)+0:(10*10*3)+(10*1)+(5*10)+5-1],TmpNN[(10*10*3)+(10*2)+(5*10)+0:(10*10*3)+(10*2)+(5*10)+5-1],TmpNN[(10*10*3)+(10*3)+(5*10)+0:(10*10*3)+(10*3)+(5*10)+5-1],TmpNN[(10*10*3)+(10*4)+(5*10)+0:(10*10*3)+(10*4)+(5*10)+5-1],
			TmpNN[(10*10*4)+(10*0)+(5*10)+0:(10*10*4)+(10*0)+(5*10)+5-1],TmpNN[(10*10*4)+(10*1)+(5*10)+0:(10*10*4)+(10*1)+(5*10)+5-1],TmpNN[(10*10*4)+(10*2)+(5*10)+0:(10*10*4)+(10*2)+(5*10)+5-1],TmpNN[(10*10*4)+(10*3)+(5*10)+0:(10*10*4)+(10*3)+(5*10)+5-1],TmpNN[(10*10*4)+(10*4)+(5*10)+0:(10*10*4)+(10*4)+(5*10)+5-1]
		}),.OutMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+0:(10*10*0)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+0:(10*10*0)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+0:(10*10*0)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+0:(10*10*1)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+0:(10*10*1)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+0:(10*10*1)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+0:(10*10*2)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+0:(10*10*2)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+0:(10*10*2)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+0:(10*10*2)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+0:(10*10*2)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+0:(10*10*3)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+0:(10*10*3)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+0:(10*10*3)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+0:(10*10*3)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+0:(10*10*3)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+0:(10*10*4)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+0:(10*10*4)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+0:(10*10*4)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+0:(10*10*4)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+0:(10*10*4)+(10*4)+(5*10)+5-1]
		})
	);
	
	PoolUnit        #(.Row_Limit(5),.WindowsSize(2),.ComputRow(4)) Layer3ID4(.clk(subclk[3]),
		.InMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+5:(10*10*0)+(10*0)+(5*10)+5*2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+5:(10*10*0)+(10*1)+(5*10)+5*2-1],TmpNN[(10*10*0)+(10*2)+(5*10)+5:(10*10*0)+(10*2)+(5*10)+5*2-1],TmpNN[(10*10*0)+(10*3)+(5*10)+5:(10*10*0)+(10*3)+(5*10)+5*2-1],TmpNN[(10*10*0)+(10*4)+(5*10)+5:(10*10*0)+(10*4)+(5*10)+5*2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+5:(10*10*1)+(10*0)+(5*10)+5*2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+5:(10*10*1)+(10*1)+(5*10)+5*2-1],TmpNN[(10*10*1)+(10*2)+(5*10)+5:(10*10*1)+(10*2)+(5*10)+5*2-1],TmpNN[(10*10*1)+(10*3)+(5*10)+5:(10*10*1)+(10*3)+(5*10)+5*2-1],TmpNN[(10*10*1)+(10*4)+(5*10)+5:(10*10*1)+(10*4)+(5*10)+5*2-1],
			TmpNN[(10*10*2)+(10*0)+(5*10)+5:(10*10*2)+(10*0)+(5*10)+5*2-1],TmpNN[(10*10*2)+(10*1)+(5*10)+5:(10*10*2)+(10*1)+(5*10)+5*2-1],TmpNN[(10*10*2)+(10*2)+(5*10)+5:(10*10*2)+(10*2)+(5*10)+5*2-1],TmpNN[(10*10*2)+(10*3)+(5*10)+5:(10*10*2)+(10*3)+(5*10)+5*2-1],TmpNN[(10*10*2)+(10*4)+(5*10)+5:(10*10*2)+(10*4)+(5*10)+5*2-1],
			TmpNN[(10*10*3)+(10*0)+(5*10)+5:(10*10*3)+(10*0)+(5*10)+5*2-1],TmpNN[(10*10*3)+(10*1)+(5*10)+5:(10*10*3)+(10*1)+(5*10)+5*2-1],TmpNN[(10*10*3)+(10*2)+(5*10)+5:(10*10*3)+(10*2)+(5*10)+5*2-1],TmpNN[(10*10*3)+(10*3)+(5*10)+5:(10*10*3)+(10*3)+(5*10)+5*2-1],TmpNN[(10*10*3)+(10*4)+(5*10)+5:(10*10*3)+(10*4)+(5*10)+5*2-1],
			TmpNN[(10*10*4)+(10*0)+(5*10)+5:(10*10*4)+(10*0)+(5*10)+5*2-1],TmpNN[(10*10*4)+(10*1)+(5*10)+5:(10*10*4)+(10*1)+(5*10)+5*2-1],TmpNN[(10*10*4)+(10*2)+(5*10)+5:(10*10*4)+(10*2)+(5*10)+5*2-1],TmpNN[(10*10*4)+(10*3)+(5*10)+5:(10*10*4)+(10*3)+(5*10)+5*2-1],TmpNN[(10*10*4)+(10*4)+(5*10)+5:(10*10*4)+(10*4)+(5*10)+5*2-1]
		}),.OutMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+5:(10*10*0)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+5:(10*10*0)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+5:(10*10*0)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+5:(10*10*0)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+5:(10*10*0)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+5:(10*10*1)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+5:(10*10*1)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+5:(10*10*1)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+5:(10*10*1)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+5:(10*10*1)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+5:(10*10*2)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+5:(10*10*2)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+5:(10*10*2)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+5:(10*10*2)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+5:(10*10*2)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+5:(10*10*3)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+5:(10*10*3)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+5:(10*10*3)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+5:(10*10*3)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+5:(10*10*3)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+5:(10*10*4)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+5:(10*10*4)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+5:(10*10*4)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+5:(10*10*4)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+5:(10*10*4)+(10*4)+(5*10)+5*2-1]
		})
	);
	
	//4*4 -> 2*2 (NN2 -> NN)
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID1 (.clk(subclk[4]),
		.InMatrix(
		{
			TmpNN2[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+5-1],TmpNN2[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+5-1],TmpNN2[(10*10*0)+(10*2)+0:(10*10*0)+(10*2)+5-1],TmpNN2[(10*10*0)+(10*3)+0:(10*10*0)+(10*3)+5-1],TmpNN2[(10*10*0)+(10*4)+0:(10*10*0)+(10*4)+5-1],
			TmpNN2[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+5-1],TmpNN2[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+5-1],TmpNN2[(10*10*1)+(10*2)+0:(10*10*1)+(10*2)+5-1],TmpNN2[(10*10*1)+(10*3)+0:(10*10*1)+(10*3)+5-1],TmpNN2[(10*10*1)+(10*4)+0:(10*10*1)+(10*4)+5-1],
			TmpNN2[(10*10*2)+(10*0)+0:(10*10*2)+(10*0)+5-1],TmpNN2[(10*10*2)+(10*1)+0:(10*10*2)+(10*1)+5-1],TmpNN2[(10*10*2)+(10*2)+0:(10*10*2)+(10*2)+5-1],TmpNN2[(10*10*2)+(10*3)+0:(10*10*2)+(10*3)+5-1],TmpNN2[(10*10*2)+(10*4)+0:(10*10*2)+(10*4)+5-1],
			TmpNN2[(10*10*3)+(10*0)+0:(10*10*3)+(10*0)+5-1],TmpNN2[(10*10*3)+(10*1)+0:(10*10*3)+(10*1)+5-1],TmpNN2[(10*10*3)+(10*2)+0:(10*10*3)+(10*2)+5-1],TmpNN2[(10*10*3)+(10*3)+0:(10*10*3)+(10*3)+5-1],TmpNN2[(10*10*3)+(10*4)+0:(10*10*3)+(10*4)+5-1],
			TmpNN2[(10*10*4)+(10*0)+0:(10*10*4)+(10*0)+5-1],TmpNN2[(10*10*4)+(10*1)+0:(10*10*4)+(10*1)+5-1],TmpNN2[(10*10*4)+(10*2)+0:(10*10*4)+(10*2)+5-1],TmpNN2[(10*10*4)+(10*3)+0:(10*10*4)+(10*3)+5-1],TmpNN2[(10*10*4)+(10*4)+0:(10*10*4)+(10*4)+5-1]
		}),
		.EigenMatrix(
			4'b0000
		),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+2-1],TmpNN[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+2-1],
			TmpNN[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+2-1],TmpNN[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID2 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+5-1],TmpNN2[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+5-1],TmpNN2[(10*10*0)+(10*2)+0:(10*10*0)+(10*2)+5-1],TmpNN2[(10*10*0)+(10*3)+0:(10*10*0)+(10*3)+5-1],TmpNN2[(10*10*0)+(10*4)+0:(10*10*0)+(10*4)+5-1],
			TmpNN2[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+5-1],TmpNN2[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+5-1],TmpNN2[(10*10*1)+(10*2)+0:(10*10*1)+(10*2)+5-1],TmpNN2[(10*10*1)+(10*3)+0:(10*10*1)+(10*3)+5-1],TmpNN2[(10*10*1)+(10*4)+0:(10*10*1)+(10*4)+5-1],
			TmpNN2[(10*10*2)+(10*0)+0:(10*10*2)+(10*0)+5-1],TmpNN2[(10*10*2)+(10*1)+0:(10*10*2)+(10*1)+5-1],TmpNN2[(10*10*2)+(10*2)+0:(10*10*2)+(10*2)+5-1],TmpNN2[(10*10*2)+(10*3)+0:(10*10*2)+(10*3)+5-1],TmpNN2[(10*10*2)+(10*4)+0:(10*10*2)+(10*4)+5-1],
			TmpNN2[(10*10*3)+(10*0)+0:(10*10*3)+(10*0)+5-1],TmpNN2[(10*10*3)+(10*1)+0:(10*10*3)+(10*1)+5-1],TmpNN2[(10*10*3)+(10*2)+0:(10*10*3)+(10*2)+5-1],TmpNN2[(10*10*3)+(10*3)+0:(10*10*3)+(10*3)+5-1],TmpNN2[(10*10*3)+(10*4)+0:(10*10*3)+(10*4)+5-1],
			TmpNN2[(10*10*4)+(10*0)+0:(10*10*4)+(10*0)+5-1],TmpNN2[(10*10*4)+(10*1)+0:(10*10*4)+(10*1)+5-1],TmpNN2[(10*10*4)+(10*2)+0:(10*10*4)+(10*2)+5-1],TmpNN2[(10*10*4)+(10*3)+0:(10*10*4)+(10*3)+5-1],TmpNN2[(10*10*4)+(10*4)+0:(10*10*4)+(10*4)+5-1]
		}),
		.EigenMatrix(
			4'b0000
		),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+2:(10*10*0)+(10*0)+2+2-1],TmpNN[(10*10*0)+(10*1)+2:(10*10*0)+(10*1)+2+2-1],
			TmpNN[(10*10*1)+(10*0)+2:(10*10*1)+(10*0)+2+2-1],TmpNN[(10*10*1)+(10*1)+2:(10*10*1)+(10*1)+2+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID3 (.clk(subclk[4]),
		.InMatrix({			
			TmpNN2[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+5-1],TmpNN2[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+5-1],TmpNN2[(10*10*0)+(10*2)+0:(10*10*0)+(10*2)+5-1],TmpNN2[(10*10*0)+(10*3)+0:(10*10*0)+(10*3)+5-1],TmpNN2[(10*10*0)+(10*4)+0:(10*10*0)+(10*4)+5-1],
			TmpNN2[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+5-1],TmpNN2[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+5-1],TmpNN2[(10*10*1)+(10*2)+0:(10*10*1)+(10*2)+5-1],TmpNN2[(10*10*1)+(10*3)+0:(10*10*1)+(10*3)+5-1],TmpNN2[(10*10*1)+(10*4)+0:(10*10*1)+(10*4)+5-1],
			TmpNN2[(10*10*2)+(10*0)+0:(10*10*2)+(10*0)+5-1],TmpNN2[(10*10*2)+(10*1)+0:(10*10*2)+(10*1)+5-1],TmpNN2[(10*10*2)+(10*2)+0:(10*10*2)+(10*2)+5-1],TmpNN2[(10*10*2)+(10*3)+0:(10*10*2)+(10*3)+5-1],TmpNN2[(10*10*2)+(10*4)+0:(10*10*2)+(10*4)+5-1],
			TmpNN2[(10*10*3)+(10*0)+0:(10*10*3)+(10*0)+5-1],TmpNN2[(10*10*3)+(10*1)+0:(10*10*3)+(10*1)+5-1],TmpNN2[(10*10*3)+(10*2)+0:(10*10*3)+(10*2)+5-1],TmpNN2[(10*10*3)+(10*3)+0:(10*10*3)+(10*3)+5-1],TmpNN2[(10*10*3)+(10*4)+0:(10*10*3)+(10*4)+5-1],
			TmpNN2[(10*10*4)+(10*0)+0:(10*10*4)+(10*0)+5-1],TmpNN2[(10*10*4)+(10*1)+0:(10*10*4)+(10*1)+5-1],TmpNN2[(10*10*4)+(10*2)+0:(10*10*4)+(10*2)+5-1],TmpNN2[(10*10*4)+(10*3)+0:(10*10*4)+(10*3)+5-1],TmpNN2[(10*10*4)+(10*4)+0:(10*10*4)+(10*4)+5-1]
		}),
		.EigenMatrix(
			4'b0000
		),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(2*10)+0:(10*10*0)+(10*0)+(2*10)+2-1],TmpNN[(10*10*0)+(10*1)+(2*10)+0:(10*10*0)+(10*1)+(2*10)+2-1],
			TmpNN[(10*10*1)+(10*0)+(2*10)+0:(10*10*1)+(10*0)+(2*10)+2-1],TmpNN[(10*10*1)+(10*1)+(2*10)+0:(10*10*1)+(10*1)+(2*10)+2-1]
		})
	);

	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID4 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+5-1],TmpNN2[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+5-1],TmpNN2[(10*10*0)+(10*2)+0:(10*10*0)+(10*2)+5-1],TmpNN2[(10*10*0)+(10*3)+0:(10*10*0)+(10*3)+5-1],TmpNN2[(10*10*0)+(10*4)+0:(10*10*0)+(10*4)+5-1],
			TmpNN2[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+5-1],TmpNN2[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+5-1],TmpNN2[(10*10*1)+(10*2)+0:(10*10*1)+(10*2)+5-1],TmpNN2[(10*10*1)+(10*3)+0:(10*10*1)+(10*3)+5-1],TmpNN2[(10*10*1)+(10*4)+0:(10*10*1)+(10*4)+5-1],
			TmpNN2[(10*10*2)+(10*0)+0:(10*10*2)+(10*0)+5-1],TmpNN2[(10*10*2)+(10*1)+0:(10*10*2)+(10*1)+5-1],TmpNN2[(10*10*2)+(10*2)+0:(10*10*2)+(10*2)+5-1],TmpNN2[(10*10*2)+(10*3)+0:(10*10*2)+(10*3)+5-1],TmpNN2[(10*10*2)+(10*4)+0:(10*10*2)+(10*4)+5-1],
			TmpNN2[(10*10*3)+(10*0)+0:(10*10*3)+(10*0)+5-1],TmpNN2[(10*10*3)+(10*1)+0:(10*10*3)+(10*1)+5-1],TmpNN2[(10*10*3)+(10*2)+0:(10*10*3)+(10*2)+5-1],TmpNN2[(10*10*3)+(10*3)+0:(10*10*3)+(10*3)+5-1],TmpNN2[(10*10*3)+(10*4)+0:(10*10*3)+(10*4)+5-1],
			TmpNN2[(10*10*4)+(10*0)+0:(10*10*4)+(10*0)+5-1],TmpNN2[(10*10*4)+(10*1)+0:(10*10*4)+(10*1)+5-1],TmpNN2[(10*10*4)+(10*2)+0:(10*10*4)+(10*2)+5-1],TmpNN2[(10*10*4)+(10*3)+0:(10*10*4)+(10*3)+5-1],TmpNN2[(10*10*4)+(10*4)+0:(10*10*4)+(10*4)+5-1]
		}),
		.EigenMatrix(
			4'b0000
		),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(2*10)+2:(10*10*0)+(10*0)+(2*10)+2+2-1],TmpNN[(10*10*0)+(10*1)+(2*10)+2:(10*10*0)+(10*1)+(2*10)+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(2*10)+2:(10*10*1)+(10*0)+(2*10)+2+2-1],TmpNN[(10*10*1)+(10*1)+(2*10)+2:(10*10*1)+(10*1)+(2*10)+2+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID5 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+(5*2)-1],TmpNN2[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+(5*2)-1],TmpNN2[(10*10*0)+(10*2)+5:(10*10*0)+(10*2)+(5*2)-1],TmpNN2[(10*10*0)+(10*3)+5:(10*10*0)+(10*3)+(5*2)-1],TmpNN2[(10*10*0)+(10*4)+5:(10*10*0)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+(5*2)-1],TmpNN2[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+(5*2)-1],TmpNN2[(10*10*1)+(10*2)+5:(10*10*1)+(10*2)+(5*2)-1],TmpNN2[(10*10*1)+(10*3)+5:(10*10*1)+(10*3)+(5*2)-1],TmpNN2[(10*10*1)+(10*4)+5:(10*10*1)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*2)+(10*0)+5:(10*10*2)+(10*0)+(5*2)-1],TmpNN2[(10*10*2)+(10*1)+5:(10*10*2)+(10*1)+(5*2)-1],TmpNN2[(10*10*2)+(10*2)+5:(10*10*2)+(10*2)+(5*2)-1],TmpNN2[(10*10*2)+(10*3)+5:(10*10*2)+(10*3)+(5*2)-1],TmpNN2[(10*10*2)+(10*4)+5:(10*10*2)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*3)+(10*0)+5:(10*10*3)+(10*0)+(5*2)-1],TmpNN2[(10*10*3)+(10*1)+5:(10*10*3)+(10*1)+(5*2)-1],TmpNN2[(10*10*3)+(10*2)+5:(10*10*3)+(10*2)+(5*2)-1],TmpNN2[(10*10*3)+(10*3)+5:(10*10*3)+(10*3)+(5*2)-1],TmpNN2[(10*10*3)+(10*4)+5:(10*10*3)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*4)+(10*0)+5:(10*10*4)+(10*0)+(5*2)-1],TmpNN2[(10*10*4)+(10*1)+5:(10*10*4)+(10*1)+(5*2)-1],TmpNN2[(10*10*4)+(10*2)+5:(10*10*4)+(10*2)+(5*2)-1],TmpNN2[(10*10*4)+(10*3)+5:(10*10*4)+(10*3)+(5*2)-1],TmpNN2[(10*10*4)+(10*4)+5:(10*10*4)+(10*4)+(5*2)-1]
		}),
		.EigenMatrix(
			4'b0000
		),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+5+2-1],TmpNN[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+5+2-1],
			TmpNN[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+5+2-1],TmpNN[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+5+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID6 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+(5*2)-1],TmpNN2[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+(5*2)-1],TmpNN2[(10*10*0)+(10*2)+5:(10*10*0)+(10*2)+(5*2)-1],TmpNN2[(10*10*0)+(10*3)+5:(10*10*0)+(10*3)+(5*2)-1],TmpNN2[(10*10*0)+(10*4)+5:(10*10*0)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+(5*2)-1],TmpNN2[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+(5*2)-1],TmpNN2[(10*10*1)+(10*2)+5:(10*10*1)+(10*2)+(5*2)-1],TmpNN2[(10*10*1)+(10*3)+5:(10*10*1)+(10*3)+(5*2)-1],TmpNN2[(10*10*1)+(10*4)+5:(10*10*1)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*2)+(10*0)+5:(10*10*2)+(10*0)+(5*2)-1],TmpNN2[(10*10*2)+(10*1)+5:(10*10*2)+(10*1)+(5*2)-1],TmpNN2[(10*10*2)+(10*2)+5:(10*10*2)+(10*2)+(5*2)-1],TmpNN2[(10*10*2)+(10*3)+5:(10*10*2)+(10*3)+(5*2)-1],TmpNN2[(10*10*2)+(10*4)+5:(10*10*2)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*3)+(10*0)+5:(10*10*3)+(10*0)+(5*2)-1],TmpNN2[(10*10*3)+(10*1)+5:(10*10*3)+(10*1)+(5*2)-1],TmpNN2[(10*10*3)+(10*2)+5:(10*10*3)+(10*2)+(5*2)-1],TmpNN2[(10*10*3)+(10*3)+5:(10*10*3)+(10*3)+(5*2)-1],TmpNN2[(10*10*3)+(10*4)+5:(10*10*3)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*4)+(10*0)+5:(10*10*4)+(10*0)+(5*2)-1],TmpNN2[(10*10*4)+(10*1)+5:(10*10*4)+(10*1)+(5*2)-1],TmpNN2[(10*10*4)+(10*2)+5:(10*10*4)+(10*2)+(5*2)-1],TmpNN2[(10*10*4)+(10*3)+5:(10*10*4)+(10*3)+(5*2)-1],TmpNN2[(10*10*4)+(10*4)+5:(10*10*4)+(10*4)+(5*2)-1]
		}),
		.EigenMatrix(
			4'b0000
		),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+5+2:(10*10*0)+(10*0)+5+2+2-1],TmpNN[(10*10*0)+(10*1)+5+2:(10*10*0)+(10*1)+5+2+2-1],
			TmpNN[(10*10*1)+(10*0)+5+2:(10*10*1)+(10*0)+5+2+2-1],TmpNN[(10*10*1)+(10*1)+5+2:(10*10*1)+(10*1)+5+2+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID7 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+(5*2)-1],TmpNN2[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+(5*2)-1],TmpNN2[(10*10*0)+(10*2)+5:(10*10*0)+(10*2)+(5*2)-1],TmpNN2[(10*10*0)+(10*3)+5:(10*10*0)+(10*3)+(5*2)-1],TmpNN2[(10*10*0)+(10*4)+5:(10*10*0)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+(5*2)-1],TmpNN2[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+(5*2)-1],TmpNN2[(10*10*1)+(10*2)+5:(10*10*1)+(10*2)+(5*2)-1],TmpNN2[(10*10*1)+(10*3)+5:(10*10*1)+(10*3)+(5*2)-1],TmpNN2[(10*10*1)+(10*4)+5:(10*10*1)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*2)+(10*0)+5:(10*10*2)+(10*0)+(5*2)-1],TmpNN2[(10*10*2)+(10*1)+5:(10*10*2)+(10*1)+(5*2)-1],TmpNN2[(10*10*2)+(10*2)+5:(10*10*2)+(10*2)+(5*2)-1],TmpNN2[(10*10*2)+(10*3)+5:(10*10*2)+(10*3)+(5*2)-1],TmpNN2[(10*10*2)+(10*4)+5:(10*10*2)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*3)+(10*0)+5:(10*10*3)+(10*0)+(5*2)-1],TmpNN2[(10*10*3)+(10*1)+5:(10*10*3)+(10*1)+(5*2)-1],TmpNN2[(10*10*3)+(10*2)+5:(10*10*3)+(10*2)+(5*2)-1],TmpNN2[(10*10*3)+(10*3)+5:(10*10*3)+(10*3)+(5*2)-1],TmpNN2[(10*10*3)+(10*4)+5:(10*10*3)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*4)+(10*0)+5:(10*10*4)+(10*0)+(5*2)-1],TmpNN2[(10*10*4)+(10*1)+5:(10*10*4)+(10*1)+(5*2)-1],TmpNN2[(10*10*4)+(10*2)+5:(10*10*4)+(10*2)+(5*2)-1],TmpNN2[(10*10*4)+(10*3)+5:(10*10*4)+(10*3)+(5*2)-1],TmpNN2[(10*10*4)+(10*4)+5:(10*10*4)+(10*4)+(5*2)-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(2*10)+5:(10*10*0)+(10*0)+(2*10)+5+2-1],TmpNN[(10*10*0)+(10*1)+(2*10)+5:(10*10*0)+(10*1)+(2*10)+5+2-1],
			TmpNN[(10*10*1)+(10*0)+(2*10)+5:(10*10*1)+(10*0)+(2*10)+5+2-1],TmpNN[(10*10*1)+(10*1)+(2*10)+5:(10*10*1)+(10*1)+(2*10)+5+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID8 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+(5*2)-1],TmpNN2[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+(5*2)-1],TmpNN2[(10*10*0)+(10*2)+5:(10*10*0)+(10*2)+(5*2)-1],TmpNN2[(10*10*0)+(10*3)+5:(10*10*0)+(10*3)+(5*2)-1],TmpNN2[(10*10*0)+(10*4)+5:(10*10*0)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+(5*2)-1],TmpNN2[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+(5*2)-1],TmpNN2[(10*10*1)+(10*2)+5:(10*10*1)+(10*2)+(5*2)-1],TmpNN2[(10*10*1)+(10*3)+5:(10*10*1)+(10*3)+(5*2)-1],TmpNN2[(10*10*1)+(10*4)+5:(10*10*1)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*2)+(10*0)+5:(10*10*2)+(10*0)+(5*2)-1],TmpNN2[(10*10*2)+(10*1)+5:(10*10*2)+(10*1)+(5*2)-1],TmpNN2[(10*10*2)+(10*2)+5:(10*10*2)+(10*2)+(5*2)-1],TmpNN2[(10*10*2)+(10*3)+5:(10*10*2)+(10*3)+(5*2)-1],TmpNN2[(10*10*2)+(10*4)+5:(10*10*2)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*3)+(10*0)+5:(10*10*3)+(10*0)+(5*2)-1],TmpNN2[(10*10*3)+(10*1)+5:(10*10*3)+(10*1)+(5*2)-1],TmpNN2[(10*10*3)+(10*2)+5:(10*10*3)+(10*2)+(5*2)-1],TmpNN2[(10*10*3)+(10*3)+5:(10*10*3)+(10*3)+(5*2)-1],TmpNN2[(10*10*3)+(10*4)+5:(10*10*3)+(10*4)+(5*2)-1],
			TmpNN2[(10*10*4)+(10*0)+5:(10*10*4)+(10*0)+(5*2)-1],TmpNN2[(10*10*4)+(10*1)+5:(10*10*4)+(10*1)+(5*2)-1],TmpNN2[(10*10*4)+(10*2)+5:(10*10*4)+(10*2)+(5*2)-1],TmpNN2[(10*10*4)+(10*3)+5:(10*10*4)+(10*3)+(5*2)-1],TmpNN2[(10*10*4)+(10*4)+5:(10*10*4)+(10*4)+(5*2)-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(2*10)+5+2:(10*10*0)+(10*0)+(2*10)+5+2+2-1],TmpNN[(10*10*0)+(10*1)+(2*10)+5+2:(10*10*0)+(10*1)+(2*10)+5+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(2*10)+5+2:(10*10*1)+(10*0)+(2*10)+5+2+2-1],TmpNN[(10*10*1)+(10*1)+(2*10)+5+2:(10*10*1)+(10*1)+(2*10)+5+2+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID9 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+0:(10*10*0)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+0:(10*10*0)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+0:(10*10*0)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+0:(10*10*1)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+0:(10*10*1)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+0:(10*10*1)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+0:(10*10*2)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+0:(10*10*2)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+0:(10*10*2)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+0:(10*10*2)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+0:(10*10*2)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+0:(10*10*3)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+0:(10*10*3)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+0:(10*10*3)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+0:(10*10*3)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+0:(10*10*3)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+0:(10*10*4)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+0:(10*10*4)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+0:(10*10*4)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+0:(10*10*4)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+0:(10*10*4)+(10*4)+(5*10)+5-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID10 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+0:(10*10*0)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+0:(10*10*0)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+0:(10*10*0)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+0:(10*10*1)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+0:(10*10*1)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+0:(10*10*1)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+0:(10*10*2)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+0:(10*10*2)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+0:(10*10*2)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+0:(10*10*2)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+0:(10*10*2)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+0:(10*10*3)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+0:(10*10*3)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+0:(10*10*3)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+0:(10*10*3)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+0:(10*10*3)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+0:(10*10*4)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+0:(10*10*4)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+0:(10*10*4)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+0:(10*10*4)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+0:(10*10*4)+(10*4)+(5*10)+5-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+2:(10*10*0)+(10*0)+(5*10)+2+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+2:(10*10*0)+(10*1)+(5*10)+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+2:(10*10*1)+(10*0)+(5*10)+2+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+2:(10*10*1)+(10*1)+(5*10)+2+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID11 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+0:(10*10*0)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+0:(10*10*0)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+0:(10*10*0)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+0:(10*10*1)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+0:(10*10*1)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+0:(10*10*1)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+0:(10*10*2)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+0:(10*10*2)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+0:(10*10*2)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+0:(10*10*2)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+0:(10*10*2)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+0:(10*10*3)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+0:(10*10*3)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+0:(10*10*3)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+0:(10*10*3)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+0:(10*10*3)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+0:(10*10*4)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+0:(10*10*4)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+0:(10*10*4)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+0:(10*10*4)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+0:(10*10*4)+(10*4)+(5*10)+5-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+0:(10*10*0)+(10*0)+(5*10)+(2*10)+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+(2*10)+0:(10*10*0)+(10*1)+(5*10)+(2*10)+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+(2*10)+0:(10*10*1)+(10*0)+(5*10)+(2*10)+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+(2*10)+0:(10*10*1)+(10*1)+(5*10)+(2*10)+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID12 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+0:(10*10*0)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+0:(10*10*0)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+0:(10*10*0)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+0:(10*10*1)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+0:(10*10*1)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+0:(10*10*1)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+0:(10*10*2)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+0:(10*10*2)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+0:(10*10*2)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+0:(10*10*2)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+0:(10*10*2)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+0:(10*10*3)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+0:(10*10*3)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+0:(10*10*3)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+0:(10*10*3)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+0:(10*10*3)+(10*4)+(5*10)+5-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+0:(10*10*4)+(10*0)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+0:(10*10*4)+(10*1)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+0:(10*10*4)+(10*2)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+0:(10*10*4)+(10*3)+(5*10)+5-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+0:(10*10*4)+(10*4)+(5*10)+5-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+2:(10*10*0)+(10*0)+(5*10)+(2*10)+2+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+(2*10)+2:(10*10*0)+(10*1)+(5*10)+(2*10)+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+(2*10)+2:(10*10*1)+(10*0)+(5*10)+(2*10)+2+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+(2*10)+2:(10*10*1)+(10*1)+(5*10)+(2*10)+2+2-1]
		})
	);	
	
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID13 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+5:(10*10*0)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+5:(10*10*0)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+5:(10*10*0)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+5:(10*10*0)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+5:(10*10*0)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+5:(10*10*1)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+5:(10*10*1)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+5:(10*10*1)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+5:(10*10*1)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+5:(10*10*1)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+5:(10*10*2)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+5:(10*10*2)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+5:(10*10*2)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+5:(10*10*2)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+5:(10*10*2)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+5:(10*10*3)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+5:(10*10*3)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+5:(10*10*3)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+5:(10*10*3)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+5:(10*10*3)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+5:(10*10*4)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+5:(10*10*4)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+5:(10*10*4)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+5:(10*10*4)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+5:(10*10*4)+(10*4)+(5*10)+5*2-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+5+0:(10*10*0)+(10*0)+(5*10)+5+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+5+0:(10*10*0)+(10*1)+(5*10)+5+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+5+0:(10*10*1)+(10*0)+(5*10)+5+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+5+0:(10*10*1)+(10*1)+(5*10)+5+2-1]
		})
	);	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID14 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+5:(10*10*0)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+5:(10*10*0)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+5:(10*10*0)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+5:(10*10*0)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+5:(10*10*0)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+5:(10*10*1)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+5:(10*10*1)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+5:(10*10*1)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+5:(10*10*1)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+5:(10*10*1)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+5:(10*10*2)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+5:(10*10*2)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+5:(10*10*2)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+5:(10*10*2)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+5:(10*10*2)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+5:(10*10*3)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+5:(10*10*3)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+5:(10*10*3)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+5:(10*10*3)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+5:(10*10*3)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+5:(10*10*4)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+5:(10*10*4)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+5:(10*10*4)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+5:(10*10*4)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+5:(10*10*4)+(10*4)+(5*10)+5*2-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+5+2:(10*10*0)+(10*0)+(5*10)+5+2+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+5+2:(10*10*0)+(10*1)+(5*10)+5+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+5+2:(10*10*1)+(10*0)+(5*10)+5+2+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+5+2:(10*10*1)+(10*1)+(5*10)+5+2+2-1]
		})
	);	
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID15 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+5:(10*10*0)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+5:(10*10*0)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+5:(10*10*0)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+5:(10*10*0)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+5:(10*10*0)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+5:(10*10*1)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+5:(10*10*1)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+5:(10*10*1)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+5:(10*10*1)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+5:(10*10*1)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+5:(10*10*2)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+5:(10*10*2)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+5:(10*10*2)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+5:(10*10*2)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+5:(10*10*2)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+5:(10*10*3)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+5:(10*10*3)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+5:(10*10*3)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+5:(10*10*3)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+5:(10*10*3)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+5:(10*10*4)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+5:(10*10*4)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+5:(10*10*4)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+5:(10*10*4)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+5:(10*10*4)+(10*4)+(5*10)+5*2-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+5+0:(10*10*0)+(10*0)+(5*10)+(2*10)+5+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+(2*10)+5+0:(10*10*0)+(10*1)+(5*10)+(2*10)+5+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+(2*10)+5+0:(10*10*1)+(10*0)+(5*10)+(2*10)+5+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+(2*10)+5+0:(10*10*1)+(10*1)+(5*10)+(2*10)+5+2-1]
		})
	);
	
	ConvolutionUnit #(.Row_Limit(4),.WindowsSize(2)) Layer4ID16 (.clk(subclk[4]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+5:(10*10*0)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+5:(10*10*0)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*2)+(5*10)+5:(10*10*0)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*3)+(5*10)+5:(10*10*0)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*0)+(10*4)+(5*10)+5:(10*10*0)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+5:(10*10*1)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+5:(10*10*1)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*2)+(5*10)+5:(10*10*1)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*3)+(5*10)+5:(10*10*1)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*1)+(10*4)+(5*10)+5:(10*10*1)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*2)+(10*0)+(5*10)+5:(10*10*2)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*1)+(5*10)+5:(10*10*2)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*2)+(5*10)+5:(10*10*2)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*3)+(5*10)+5:(10*10*2)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*2)+(10*4)+(5*10)+5:(10*10*2)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*3)+(10*0)+(5*10)+5:(10*10*3)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*1)+(5*10)+5:(10*10*3)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*2)+(5*10)+5:(10*10*3)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*3)+(5*10)+5:(10*10*3)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*3)+(10*4)+(5*10)+5:(10*10*3)+(10*4)+(5*10)+5*2-1],
			TmpNN2[(10*10*4)+(10*0)+(5*10)+5:(10*10*4)+(10*0)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*1)+(5*10)+5:(10*10*4)+(10*1)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*2)+(5*10)+5:(10*10*4)+(10*2)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*3)+(5*10)+5:(10*10*4)+(10*3)+(5*10)+5*2-1],TmpNN2[(10*10*4)+(10*4)+(5*10)+5:(10*10*4)+(10*4)+(5*10)+5*2-1]
		}),
		.EigenMatrix({
			4'b0000
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+5+2:(10*10*0)+(10*0)+(5*10)+(2*10)+5+2+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+(2*10)+5+2:(10*10*0)+(10*1)+(5*10)+(2*10)+5+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+(2*10)+5+2:(10*10*1)+(10*0)+(5*10)+(2*10)+5+2+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+(2*10)+5+2:(10*10*1)+(10*1)+(5*10)+(2*10)+5+2+2-1]
		})
	);
	
	// (NN -> NN2)
	ReLuUnit        #(.Row_Limit(10)) Layer5ID1(.clk(subclk[5]),.InMatrix(TmpNN),.OutMatrix(TmpNN2));
	
	
	//2*2 -> 1*1 (NN2 -> NN)
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID1 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+2-1],TmpNN2[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+2-1],
			TmpNN2[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+2-1],TmpNN2[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+0:(10*10*0)+(10*0)+2-1],TmpNN[(10*10*0)+(10*1)+0:(10*10*0)+(10*1)+2-1],
			TmpNN[(10*10*1)+(10*0)+0:(10*10*1)+(10*0)+2-1],TmpNN[(10*10*1)+(10*1)+0:(10*10*1)+(10*1)+2-1]
		})
	);
	

	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID2 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+2:(10*10*0)+(10*0)+2+2-1],TmpNN2[(10*10*0)+(10*1)+2:(10*10*0)+(10*1)+2+2-1],
			TmpNN2[(10*10*1)+(10*0)+2:(10*10*1)+(10*0)+2+2-1],TmpNN2[(10*10*1)+(10*1)+2:(10*10*1)+(10*1)+2+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+2:(10*10*0)+(10*0)+2+2-1],TmpNN[(10*10*0)+(10*1)+2:(10*10*0)+(10*1)+2+2-1],
			TmpNN[(10*10*1)+(10*0)+2:(10*10*1)+(10*0)+2+2-1],TmpNN[(10*10*1)+(10*1)+2:(10*10*1)+(10*1)+2+2-1]
		})
	);


	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID3 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(2*10)+0:(10*10*0)+(10*0)+(2*10)+2-1],TmpNN2[(10*10*0)+(10*1)+(2*10)+0:(10*10*0)+(10*1)+(2*10)+2-1],
			TmpNN2[(10*10*1)+(10*0)+(2*10)+0:(10*10*1)+(10*0)+(2*10)+2-1],TmpNN2[(10*10*1)+(10*1)+(2*10)+0:(10*10*1)+(10*1)+(2*10)+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(2*10)+0:(10*10*0)+(10*0)+(2*10)+2-1],TmpNN[(10*10*0)+(10*1)+(2*10)+0:(10*10*0)+(10*1)+(2*10)+2-1],
			TmpNN[(10*10*1)+(10*0)+(2*10)+0:(10*10*1)+(10*0)+(2*10)+2-1],TmpNN[(10*10*1)+(10*1)+(2*10)+0:(10*10*1)+(10*1)+(2*10)+2-1]
		})
	);
	
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID4 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(2*10)+2:(10*10*0)+(10*0)+(2*10)+2+2-1],TmpNN2[(10*10*0)+(10*1)+(2*10)+2:(10*10*0)+(10*1)+(2*10)+2+2-1],
			TmpNN2[(10*10*1)+(10*0)+(2*10)+2:(10*10*1)+(10*0)+(2*10)+2+2-1],TmpNN2[(10*10*1)+(10*1)+(2*10)+2:(10*10*1)+(10*1)+(2*10)+2+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(2*10)+2:(10*10*0)+(10*0)+(2*10)+2+2-1],TmpNN[(10*10*0)+(10*1)+(2*10)+2:(10*10*0)+(10*1)+(2*10)+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(2*10)+2:(10*10*1)+(10*0)+(2*10)+2+2-1],TmpNN[(10*10*1)+(10*1)+(2*10)+2:(10*10*1)+(10*1)+(2*10)+2+2-1]
		})
	);

	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID5 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+5+2-1],TmpNN2[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+5+2-1],
			TmpNN2[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+5+2-1],TmpNN2[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+5+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+5:(10*10*0)+(10*0)+5+2-1],TmpNN[(10*10*0)+(10*1)+5:(10*10*0)+(10*1)+5+2-1],
			TmpNN[(10*10*1)+(10*0)+5:(10*10*1)+(10*0)+5+2-1],TmpNN[(10*10*1)+(10*1)+5:(10*10*1)+(10*1)+5+2-1]
		})
	);
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID6 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+5+2:(10*10*0)+(10*0)+5+2+2-1],TmpNN2[(10*10*0)+(10*1)+5+2:(10*10*0)+(10*1)+5+2+2-1],
			TmpNN2[(10*10*1)+(10*0)+5+2:(10*10*1)+(10*0)+5+2+2-1],TmpNN2[(10*10*1)+(10*1)+5+2:(10*10*1)+(10*1)+5+2+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+5+2:(10*10*0)+(10*0)+5+2+2-1],TmpNN[(10*10*0)+(10*1)+5+2:(10*10*0)+(10*1)+5+2+2-1],
			TmpNN[(10*10*1)+(10*0)+5+2:(10*10*1)+(10*0)+5+2+2-1],TmpNN[(10*10*1)+(10*1)+5+2:(10*10*1)+(10*1)+5+2+2-1]
		})
	);
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID7 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(2*10)+5:(10*10*0)+(10*0)+(2*10)+5+2-1],TmpNN2[(10*10*0)+(10*1)+(2*10)+5:(10*10*0)+(10*1)+(2*10)+5+2-1],
			TmpNN2[(10*10*1)+(10*0)+(2*10)+5:(10*10*1)+(10*0)+(2*10)+5+2-1],TmpNN2[(10*10*1)+(10*1)+(2*10)+5:(10*10*1)+(10*1)+(2*10)+5+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(2*10)+5:(10*10*0)+(10*0)+(2*10)+5+2-1],TmpNN[(10*10*0)+(10*1)+(2*10)+5:(10*10*0)+(10*1)+(2*10)+5+2-1],
			TmpNN[(10*10*1)+(10*0)+(2*10)+5:(10*10*1)+(10*0)+(2*10)+5+2-1],TmpNN[(10*10*1)+(10*1)+(2*10)+5:(10*10*1)+(10*1)+(2*10)+5+2-1]
		})
	);
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID8 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(2*10)+5+2:(10*10*0)+(10*0)+(2*10)+5+2+2-1],TmpNN2[(10*10*0)+(10*1)+(2*10)+5+2:(10*10*0)+(10*1)+(2*10)+5+2+2-1],
			TmpNN2[(10*10*1)+(10*0)+(2*10)+5+2:(10*10*1)+(10*0)+(2*10)+5+2+2-1],TmpNN2[(10*10*1)+(10*1)+(2*10)+5+2:(10*10*1)+(10*1)+(2*10)+5+2+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(2*10)+5+2:(10*10*0)+(10*0)+(2*10)+5+2+2-1],TmpNN[(10*10*0)+(10*1)+(2*10)+5+2:(10*10*0)+(10*1)+(2*10)+5+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(2*10)+5+2:(10*10*1)+(10*0)+(2*10)+5+2+2-1],TmpNN[(10*10*1)+(10*1)+(2*10)+5+2:(10*10*1)+(10*1)+(2*10)+5+2+2-1]
		})
	);
	


	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID9 (.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+0:(10*10*0)+(10*0)+(5*10)+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+0:(10*10*0)+(10*1)+(5*10)+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+0:(10*10*1)+(10*0)+(5*10)+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+0:(10*10*1)+(10*1)+(5*10)+2-1]
		})
	);

	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID10(.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+2:(10*10*0)+(10*0)+(5*10)+2+2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+2:(10*10*0)+(10*1)+(5*10)+2+2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+2:(10*10*1)+(10*0)+(5*10)+2+2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+2:(10*10*1)+(10*1)+(5*10)+2+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+2:(10*10*0)+(10*0)+(5*10)+2+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+2:(10*10*0)+(10*1)+(5*10)+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+2:(10*10*1)+(10*0)+(5*10)+2+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+2:(10*10*1)+(10*1)+(5*10)+2+2-1]
		})
	);
	
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID11(.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+(2*10)+0:(10*10*0)+(10*0)+(5*10)+(2*10)+2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+(2*10)+0:(10*10*0)+(10*1)+(5*10)+(2*10)+2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+(2*10)+0:(10*10*1)+(10*0)+(5*10)+(2*10)+2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+(2*10)+0:(10*10*1)+(10*1)+(5*10)+(2*10)+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+0:(10*10*0)+(10*0)+(5*10)+(2*10)+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+(2*10)+0:(10*10*0)+(10*1)+(5*10)+(2*10)+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+(2*10)+0:(10*10*1)+(10*0)+(5*10)+(2*10)+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+(2*10)+0:(10*10*1)+(10*1)+(5*10)+(2*10)+2-1]
		})
	);
	
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID12(.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+(2*10)+2:(10*10*0)+(10*0)+(5*10)+(2*10)+2+2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+(2*10)+2:(10*10*0)+(10*1)+(5*10)+(2*10)+2+2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+(2*10)+2:(10*10*1)+(10*0)+(5*10)+(2*10)+2+2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+(2*10)+2:(10*10*1)+(10*1)+(5*10)+(2*10)+2+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+2:(10*10*0)+(10*0)+(5*10)+(2*10)+2+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+(2*10)+2:(10*10*0)+(10*1)+(5*10)+(2*10)+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+(2*10)+2:(10*10*1)+(10*0)+(5*10)+(2*10)+2+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+(2*10)+2:(10*10*1)+(10*1)+(5*10)+(2*10)+2+2-1]
		})
	);
	
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID13(.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+5+0:(10*10*0)+(10*0)+(5*10)+5+2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+5+0:(10*10*0)+(10*1)+(5*10)+5+2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+5+0:(10*10*1)+(10*0)+(5*10)+5+2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+5+0:(10*10*1)+(10*1)+(5*10)+5+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+5+0:(10*10*0)+(10*0)+(5*10)+5+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+5+0:(10*10*0)+(10*1)+(5*10)+5+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+5+0:(10*10*1)+(10*0)+(5*10)+5+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+5+0:(10*10*1)+(10*1)+(5*10)+5+2-1]
		})
	);
	
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID14(.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+5+2:(10*10*0)+(10*0)+(5*10)+5+2+2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+5+2:(10*10*0)+(10*1)+(5*10)+5+2+2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+5+2:(10*10*1)+(10*0)+(5*10)+5+2+2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+5+2:(10*10*1)+(10*1)+(5*10)+5+2+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+5+2:(10*10*0)+(10*0)+(5*10)+5+2+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+5+2:(10*10*0)+(10*1)+(5*10)+5+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+5+2:(10*10*1)+(10*0)+(5*10)+5+2+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+5+2:(10*10*1)+(10*1)+(5*10)+5+2+2-1]
		})
	);
	
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID15(.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+(2*10)+5+0:(10*10*0)+(10*0)+(5*10)+(2*10)+5+2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+(2*10)+5+0:(10*10*0)+(10*1)+(5*10)+(2*10)+5+2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+(2*10)+5+0:(10*10*1)+(10*0)+(5*10)+(2*10)+5+2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+(2*10)+5+0:(10*10*1)+(10*1)+(5*10)+(2*10)+5+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+5+0:(10*10*0)+(10*0)+(5*10)+(2*10)+5+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+(2*10)+5+0:(10*10*0)+(10*1)+(5*10)+(2*10)+5+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+(2*10)+5+0:(10*10*1)+(10*0)+(5*10)+(2*10)+5+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+(2*10)+5+0:(10*10*1)+(10*1)+(5*10)+(2*10)+5+2-1]
		})
	);
	
	PoolUnit        #(.Row_Limit(2),.WindowsSize(2),.ComputRow(1)) Layer6ID16(.clk(subclk[6]),
		.InMatrix({
			TmpNN2[(10*10*0)+(10*0)+(5*10)+(2*10)+5+2:(10*10*0)+(10*0)+(5*10)+(2*10)+5+2+2-1],TmpNN2[(10*10*0)+(10*1)+(5*10)+(2*10)+5+2:(10*10*0)+(10*1)+(5*10)+(2*10)+5+2+2-1],
			TmpNN2[(10*10*1)+(10*0)+(5*10)+(2*10)+5+2:(10*10*1)+(10*0)+(5*10)+(2*10)+5+2+2-1],TmpNN2[(10*10*1)+(10*1)+(5*10)+(2*10)+5+2:(10*10*1)+(10*1)+(5*10)+(2*10)+5+2+2-1]
		}),
		.OutMatrix({
			TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+5+2:(10*10*0)+(10*0)+(5*10)+(2*10)+5+2+2-1],TmpNN[(10*10*0)+(10*1)+(5*10)+(2*10)+5+2:(10*10*0)+(10*1)+(5*10)+(2*10)+5+2+2-1],
			TmpNN[(10*10*1)+(10*0)+(5*10)+(2*10)+5+2:(10*10*1)+(10*0)+(5*10)+(2*10)+5+2+2-1],TmpNN[(10*10*1)+(10*1)+(5*10)+(2*10)+5+2:(10*10*1)+(10*1)+(5*10)+(2*10)+5+2+2-1]
		})
	);
	
	//==========================================================================================================
	// Init Event
	//==========================================================================================================
	initial begin
		OutBus =0;
		OutErrorBus =0;
		NeuralBus =0;
		NeuralError = 0;
		
		CtlMF1FN1MappingData = 10'b0000011111;
		CtlMF1FN2MappingData = 10'b0000011111;
		CtlMF1FN3MappingData = 10'b0000011111;
		
		CtlMF2MF1MF3FN1MappingData = 10'b0000011111;
		CtlMF2MF1MF3FN2MappingData = 10'b0000011111;
		CtlMF2MF1MF3FN3MappingData = 10'b0000011111;
		CtlMF2MF2MF3FN1MappingData = 10'b0000011111;
		CtlMF2MF2MF3FN2MappingData = 10'b0000011111;
		CtlMF2MF2MF3FN3MappingData = 10'b0000011111;
		CtlMF2MF3MF3FN1MappingData = 10'b0000011111;
		CtlMF2MF3MF3FN2MappingData = 10'b0000011111;
		CtlMF2MF3MF3FN3MappingData = 10'b0000011111;
	end
		
	always@(posedge clk) begin
		TmpMF1FN1Mapping = MF1FN1Mapping;
		TmpMF1FN2Mapping = MF1FN2Mapping;
		TmpMF1FN3Mapping = MF1FN3Mapping;
		
		if(subclk[7] == 1'b1) begin
		
			if(ctlSave == 2'b01) 
				SaveNN = TmpNN;
			else if(ctlSave == 2'b10)
				SaveNN = 0;
				
			//Move Rule
			if(TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+5+2] == 1'b1)
				CtlMF2MF1MF3FN1MappingData = CtlMF2MF1MF3FN1MappingData <<< 1;
			else
				CtlMF2MF1MF3FN1MappingData = CtlMF2MF1MF3FN1MappingData >> 1;
				
			if(TmpNN[(10*10*0)+(10*0)+(5*10)+(2*10)+5+2] == 1'b1)
				CtlMF2MF1MF3FN1MappingData = CtlMF2MF1MF3FN1MappingData <<< CtlMF2MF1MF3FN1MappingData;
			else
				CtlMF2MF1MF3FN1MappingData = CtlMF2MF1MF3FN1MappingData >> CtlMF2MF1MF3FN1MappingData;
				
		end
			
		OutErrorBus[0] = (SensorGetMF1Tester[0] | SensorGetMF2Tester[0] | SensorGetMF3Tester[0]) & ~(clearError);
		OutErrorBus[1] = (SensorGetMF1Tester[1] | SensorGetMF2Tester[1] | SensorGetMF3Tester[1]) & ~(clearError);
		OutErrorBus[2] = (MF1FN1Mapping[4] | MF1FN2Mapping[4] | MF1FN3Mapping[4]) & ~(clearError);
		OutErrorBus[3] = (MF2FN1Mapping[4] | MF2FN2Mapping[4] | MF2FN3Mapping[4]) & ~(clearError);
		OutErrorBus[4] = (MF3FN1Mapping[4] | MF3FN2Mapping[4] | MF3FN3Mapping[4]) & ~(clearError);
		
		//Rule Connect
		
		//IF MF1_FN1 > 0.8 && MF2_FN1 == 0.6 THEN 1
		if(MF1FN1Mapping[5+9] == 1'b1 && MF2FN1Mapping[5+6] == 1'b1)
			OutBus[0] = 1'b1;
		else
			OutBus[0] = 1'b0;
		
		//IF MF1_FN3 > 0 || MF2_FN1 < 0.4 THEN 0
		if(MF1FN3Mapping[5+1] == 1'b1 || MF2FN1Mapping[5+3] == 1'b0)
			OutBus[1] = 1'b0;
		else
			OutBus[1] = 1'b1;
			
		//IF MF2_FN3 > 0.5 && MF3_FN2 > 0.3 THEN 1
		if(MF2FN3Mapping[5+6] == 1'b1 || MF3FN2Mapping[5+4] == 1'b1)
			OutBus[2] = 1'b1;
		else
			OutBus[2] = 1'b0;
	end

		
endmodule